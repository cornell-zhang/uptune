version: 2 

jobs: 
  build:  
    docker: 
      - image: circleci/python:3.6
    steps: 
      - checkout 
      - run: sudo chown -R circleci:circleci /usr/local/bin
      - run: sudo chown -R circleci:circleci /usr/local/lib/python3.6/site-packages
      - run: sudo apt-get update && sudo apt-get install build-essential cmake
      - restore_cache:
          key: uptune-{{ checksum "CMakeLists.txt" }}
      - run:
          command: |
            ./install.sh

